<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>Projection Mapping</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/blog.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav">
          <a class="blog-nav-item active" href="/">Home</a>
          <a class="blog-nav-item" href="/category/news">News</a>
          <a class="blog-nav-item" href="/category/documentation">Documentation</a>
          <a class="blog-nav-item" href="/contact">Contact</a>
        </nav>
      </div>
    </div>

    <div class="container">

      <div class="blog-header">
        <h2 class="blog-title">Projection Mapping</h2>
        <p class="lead blog-description">Veejay community site</p>
      </div>

      <div class="row">

        <div class="col-sm-8 blog-main">
            
    <div class="blog-post">
        <h2 id="linux-vj-projection-mapping-using-veejay-lpmt">Linux VJ Projection Mapping using Veejay + LPMT</h2>
<p>The output from Veejay may be used as a real-time projection-mapped surface using a program called Little Projection-Mapping Tool (LPMT). Using more than one projection-mapped Veejay instance should be possible, but is not covered by this document. Video is shared between the two applications using the v4l2loopback kernel module.LPMT - Little Projection-Mapping Tool; is a simple and powerful cross-platform tool for Projection-Mapping. Based on OpenFrameworks C++ toolkit.Both Veejay and LPMT are Free software with source code released under versions of the GNU GPL. Also, both can be controlled through OSC messages allowing them to play nicely with custom clients and other warez.</p>
<h4 id="websites-">WEBSITES:</h4>
<ul>
<li>LPMT: <a href="http://hv-a.com/lpmt/">http://hv-a.com/lpmt/</a></li>
<li>v4l2loopback: <a href="https://github.com/umlaeute/v4l2loopback">https://github.com/umlaeute/v4l2loopback</a></li>
</ul>
<h4 id="references-">REFERENCES:</h4>
<ul>
<li>A work-in-progress &quot;Super-Sexy Secret Manual&quot; for LPMT version 1.4 <a href="http://hv-a.com/lpmt/?page_id=195">http://hv-a.com/lpmt/?page_id=195</a></li>
<li>v4l2loopback usage examples <a href="https://github.com/umlaeute/v4l2loopback/wiki">https://github.com/umlaeute/v4l2loopback/wiki</a></li>
</ul>
<h4 id="installation-">INSTALLATION:</h4>
<pre><code>* v4l2loopback$ git clone [https://github.com/umlaeute/v4l2loopback.git][4] v4l2loopback$ cd v4l2loopback$ make &amp;amp;&amp;amp; sudo make installLoad the v4l2loopback kernel module:$ sudo modprobe v4l2loopback* yuv4mpeg_to_v4l2A tiny example application included with the v4l2loopback source codeis used to stream YUV4MPEG output from Veejay into a v4l2 device.$ cd v4l2loopback/examples$ make yuv4mpeg_to_v4l2You may want to manually install the resulting yuv4mpeg_to_v4l2 binarysomewhere in your $PATH for easier execution.* LPMT:Either, Download a pre-compiled binary:[http://hv-a.com/lpmt/?page_id=63][5]Or, Luke, use the Source:[http://hv-a.com/lpmt/?page_id=70][6]The following instructions are based on usage of the 64bit Linux binary.There&#39;s no real installation of the binary, run LPMT from its directory:$ tar -xjf lpmt_1.4_linux_x64.tar.bz2$ cd lpmt_1.4_linux_x64$ ./lpmt
</code></pre><p>Play around, LPMT is cool! Press &quot;h&quot; for a command overview and refer to the manual for more help.</p>
<h4 id="configuration-">CONFIGURATION:</h4>
<h4 id="when-the-v4l2loopback-kernel-module-is-successfully-loaded-it-will-create-a-device-at-dev-videox-where-x-is-a-number-that-depends-on-how-many-video-devices-you-already-have-loaded-my-computer-has-a-connected-webcam-so-this-is-what-i-have-">When the v4l2loopback kernel module is successfully loaded, it will create a device at /dev/videoX where &quot;X&quot; is a number that depends on how many video devices you already have loaded. My computer has a connected webcam so this is what I have:</h4>
<pre><code>$ ls -l /dev/video*crw-rw----+ 1 root video 81, 0 Nov 15 15:12 /dev/video0crw-rw----+ 1 root video 81, 1 Nov 15 23:02 /dev/video1
</code></pre><p>/dev/video0 is my webcam (because it was already loaded first) and /dev/video1 is the v4l2loopback video device -- it is the most recently created device with the highest number. The rest of this document uses /dev/video1 as the v4l2loopback device, substitute according to your setup. Make sure the system user that will be running Veejay and LPMT has permission to read and write to the device. In my case, my user needs to be in the &quot;video&quot; group.Now, to configure LPMT. In the directory containing the lpmt binary, you should also find a &quot;data&quot; and &quot;libs&quot; directory.</p>
<pre><code>$ ls lpmt_1.4_linux_x64datalibslpmt
</code></pre><p>Edit data/config.xml and add a CAMERA section with the WIDTH and HEIGHT set to the dimensions of your Veejay output and ID set to &quot;X&quot; (the number of the /dev/video device created by the v4l2loopback module). My CAMERAS section looks like this:</p>
<pre><code>&amp;lt;CAMERAS&amp;gt;&amp;lt;CAMERA&amp;gt;&amp;lt;WIDTH&amp;gt;640&amp;lt;/WIDTH&amp;gt;&amp;lt;HEIGHT&amp;gt;480&amp;lt;/HEIGHT&amp;gt;&amp;lt;ID&amp;gt;0&amp;lt;/ID&amp;gt;&amp;lt;/CAMERA&amp;gt;&amp;lt;CAMERA&amp;gt;&amp;lt;WIDTH&amp;gt;720&amp;lt;/WIDTH&amp;gt;&amp;lt;HEIGHT&amp;gt;480&amp;lt;/HEIGHT&amp;gt;&amp;lt;ID&amp;gt;1&amp;lt;/ID&amp;gt;&amp;lt;/CAMERA&amp;gt;&amp;lt;/CAMERAS&amp;gt;
</code></pre><p>Configuration is complete!</p>
<h4 id="execution-">EXECUTION:</h4>
<p>You may want to use several terminal windows for this. You may need to specify the full path of the executables depending on where you installed them and if they are in your $PATH.</p>
<pre><code>Create a named pipe:$ mkfifo /tmp/pipeFeed the video loopback device with yuv4mpeg (Y4M) data that enters the pipe:$ yuv4mpeg_to_v4l2 /dev/video1 &amp;lt; /tmp/pipeStart veejay, directing a Y4M output stream to the pipe:$ veejay --output 4 --output-file /tmp/pipeStart LPMT$ lpmt
</code></pre><p>Refer to the LPMT manual for how to configure your projection mapping. Do this to see veejay output right away:</p>
<ul>
<li>press &lt;F2&gt; (or &quot;x&quot;)</li>
<li>click &quot;cam on/off&quot; to enable it. You may need to select a different camera number from the &quot;select camera&quot; list.</li>
</ul>
<h4 id="conclusion-">CONCLUSION:</h4>
<p>Epic!!! A Free VJ projection mapping solution for Linux! Thanks to all the people who have created these open source softwares and for their foresight and attention that has enabled interoperability.</p>

    </div><!-- /.blog-post -->

        </div><!-- /.blog-main -->

        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          <div class="sidebar-module sidebar-module-inset">
            <h4>About</h4>
            <p>Etiam porta <em>sem malesuada magna</em> mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.</p>
          </div>
          <div class="sidebar-module">
            <h4>Categories</h4>
            <ol class="list-unstyled">
                
                <li><a href="/category/uncategorized/">uncategorized</a></li>
                
                <li><a href="/category/documentation/">documentation</a></li>
                
                <li><a href="/category/news/">news</a></li>
                
            </ol>
            <h4>Pages</h4>
            <ol class="list-unstyled">
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/colorspaces.md">Colorspaces</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/compiling-on-ubuntu.md">Compiling on Ubuntu </a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/contact.md">Contact</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/contributions.md">Contributions</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/dependencies.md">Dependencies</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/documentation.md">Documentation</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/donate.md">Donate</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/download.md">Download</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/facebook.md">Facebook</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/features.md">Features</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/fx-stuff.md">fx stuff</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/getting-started.md">Getting Started</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/links.md">links</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/livido-osc.md">LiViDO/OSC</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/midi.md">MIDI</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/multitracker.md">MultiTracker</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/performance-tips.md">Performance Tips</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/projection-mapping.md">Projection Mapping</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/roadmap.md">Roadmap</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/sample-sequencer.md">Sample Sequencer</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/screenshots.md">Screenshots</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/showcase.md">showcase</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/veejay-1-5.md">veejay 1.5</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/veejay-advanced.md">Veejay Advanced</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/veejay-basics.md">Veejay Basics</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/veejay-environment-variables.md">veejay environment variables</a></li>
                
                <li><a href="/home/matthijs/Development/Sites/veejayhq/content/vims-list.md">VIMS List</a></li>
                
                <li><a href="/colorspaces/">Colorspaces</a></li>
                
                <li><a href="/compiling-on-ubuntu/">Compiling on Ubuntu</a></li>
                
                <li><a href="/contact/">Contact</a></li>
                
                <li><a href="/contributions/">Contributions</a></li>
                
                <li><a href="/dependencies/">Dependencies</a></li>
                
                <li><a href="/documentation/">Documentation</a></li>
                
                <li><a href="/donate/">Donate</a></li>
                
                <li><a href="/download/">Download</a></li>
                
                <li><a href="/features/">Features</a></li>
                
                <li><a href="/fx-stuff/">fx stuff</a></li>
                
                <li><a href="/getting-started/">Getting Started</a></li>
                
                <li><a href="/links/">links</a></li>
                
                <li><a href="/livido-osc/">LiViDO/OSC</a></li>
                
                <li><a href="/midi/">MIDI</a></li>
                
                <li><a href="/multitracker/">MultiTracker</a></li>
                
                <li><a href="/performance-tips/">Performance Tips</a></li>
                
                <li><a href="/projection-mapping/">Projection Mapping</a></li>
                
                <li><a href="/roadmap/">Roadmap</a></li>
                
                <li><a href="/sample-sequencer/">Sample Sequencer</a></li>
                
                <li><a href="/screenshots/">Screenshots</a></li>
                
                <li><a href="/showcase/">showcase</a></li>
                
                <li><a href="/veejay-1-5/">veejay 1.5</a></li>
                
                <li><a href="/veejay-advanced/">Veejay Advanced</a></li>
                
                <li><a href="/veejay-environment-variables/">veejay environment variables</a></li>
                
                <li><a href="/vims-list/">VIMS List</a></li>
                
            </ol>
          </div>
        </div><!-- /.blog-sidebar -->

      </div><!-- /.row -->

    </div><!-- /.container -->

    <div class="blog-footer">
      <p>Blog template built for <a href="http://getbootstrap.com">Bootstrap</a> by <a href="https://twitter.com/mdo">@mdo</a>.</p>
      <p>
        <a href="#">Back to top</a>
      </p>
    </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <script src="../../assets/js/docs.min.js"></script>
  </body>
</html>
